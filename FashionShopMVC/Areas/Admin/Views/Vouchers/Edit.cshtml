@using FashionShopMVC.Models.DTO.VoucherDTO;
@model UpdateVoucherDTO;
@{
    ViewData["Title"] = "Edit";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}
<style>
    .form-container {
        background-color: white;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
</style>
@section Scripts {
    <script>
        var editVoucherUrl = '@Url.Action("Edit", "Vouchers", new { area = "Admin", id = Model.Id })';
        var indexUrl = '@Url.Action("Index", "Vouchers", new { area = "Admin" })';
    </script>
    <script src="~/assets/admin/js/pages/Voucher/VoucherModel.js"></script>
}
<div>
    <a asp-action="index" class="btn btn-info"> 
        <i class="fas fa-arrow-left"></i>
        Trờ lại danh sách
    </a>
</div>
<hr />
<div class="container mt-5">
    <div class="form-container">
        <h2 class="text-center">Chỉnh sửa mã giảm giá</h2>
        <form id="editVoucherForm">
            <div>
                <label>Mã giảm giá:</label>
                <input type="text" asp-for="DiscountCode" value="@Model.DiscountCode" class="form-control" />
                <span asp-validation-for="DiscountCode" class="text-danger"></span>
            </div>

            <div class="form-group col-4" style="text-align: center">
                <label for="discounttype">Loại giảm giá</label>
                <div class="form-check" style="cursor: pointer">
                    <input class="form-check-input" type="checkbox" asp-for="DiscountAmount" id="flexradiodefault1" style="cursor: pointer" onclick="toggleDiscountFields()" />
                    <label class="form-check-label" for="flexradiodefault1" style="cursor: pointer">
                        Giảm giá theo ₫
                    </label>
                </div>
                <div class="form-check" style="cursor: pointer">
                    <input class="form-check-input" type="checkbox" asp-for="DiscountPercentage" id="flexradiodefault2" style="cursor: pointer" onclick="toggleDiscountFields()" />
                    <label class="form-check-label" for="flexradiodefault2" style="cursor: pointer">
                        Giảm giá theo %
                    </label>
                </div>
            </div>

            <div class="form-group col-4" id="discountAmountDiv" style="display: none;">
                <label for="DiscountValue" id="discountLabel">Số tiền giảm ₫</label>
                <input type="number" asp-for="DiscountValue" class="form-control" id="DiscountValue" placeholder="Vui lòng nhập giá trị giảm" required />
                <span asp-validation-for="DiscountValue" class="text-danger"></span>
            </div>


            <div>
                <label>Giá trị đơn hàng tối thiếu:</label>
                <input type="number" asp-for="MinimumValue" value="@Model.MinimumValue" class="form-control"/>
                <span asp-validation-for="MinimumValue" class="text-danger"></span>
            </div>

            <div>
                <label>Số lượng:</label>
                <input type="number" asp-for="Quantity" value="@Model.Quantity" class="form-control"/>
                <span asp-validation-for="Quantity" class="text-danger"></span>
                
            </div>

            <div>
                <label>Ngày bắt đầu:</label>
                <input type="datetime-local" asp-for="StartDate" value="@Model.StartDate?.ToString("yyyy-MM-ddTHH:mm")" class="form-control" />
            </div>

            <div>
                <label>Ngày kết thúc:</label>
                <input type="datetime-local" asp-for="EndDate" value="@Model.EndDate?.ToString("yyyy-MM-ddTHH:mm")" class="form-control" />
            </div>

            <div>
                <label>Mô tả:</label>
                <textarea asp-for="Describe" class="form-control">@Model.Describe</textarea>
            </div>
            <div class="form-group mb-0">
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" asp-for="Status" class="custom-control-input" id="status"/>
                    <label class="custom-control-label" style="cursor: pointer" for="status">Có hiệu lực</label>
                </div>
            </div>
            <input type="hidden" asp-for="UpdatedBy" value="@Model.UpdatedBy" />
            <button type="submit" class="btn btn-primary">Save</button>
        </form>
    </div>
</div>